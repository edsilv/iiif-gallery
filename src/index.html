<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
	<title>IIIF Gallery Component</title>
	<script src="https://unpkg.com/manifesto.js/dist/client/manifesto.bundle.js"></script>
	<script src="build/iiifgallery.js"></script>
</head>

<body>

	<input type="text" name="manifest" id="manifest"><button id="setmanifest">Set Manifest</button>

	<script>

		var manifest = '/collection/index.json';

		window.addEventListener('DOMContentLoaded', () => {

			var manifestInput = document.getElementById('manifest'); 
            var setManifest = document.getElementById('setmanifest');
			var gallery = document.querySelector('iiif-gallery');

			setManifest.addEventListener('click', function() {
                manifest = manifestInput.value;
                gallery.manifest = manifest;
            });

			gallery.addEventListener('onSelectManifest', function (evt) {
				console.log('select manifest:', evt.detail.id);
			});

			gallery.addEventListener('onSelectCollection', function (evt) {
				console.log('select collection:', evt.detail.id);
			});

			gallery.addEventListener('onSelectCanvas', function (evt) {
				console.log('select canvas:', evt.detail.id);
			});

			var resetBtn = document.getElementById('reset');

			resetBtn.onclick = () => {
				gallery.reset();
			}

			manifestInput.value = manifest;
		});
	</script>

	<!--
		https://sophiedixon.github.io/3d-portfolio/collection/index.json
		https://edsilv.github.io/biiif-workshop/collection/index.json
		https://docuver.se/uv-app-starter/collection/vague-21/index.json
	-->

	<iiif-gallery manifest="https://edsilv.github.io/biiif-workshop/collection/index.json"></iiif-gallery>

	<p>
		<button id="reset">Reset</button>
	</p>

</body>

</html>