/*! Built with http://stenciljs.com */
iiifgallery.loadBundle("wamce4gm",["exports"],function(e){var t,n=window.iiifgallery.h,i=function(){function e(){this.items=null}return e.prototype.manifestHandler=function(){this._reset()},e.prototype.ignoreHandler=function(){this._reset()},e.prototype.componentWillLoad=function(){this._reset()},e.prototype._reset=function(){var e=this;this.manifest?manifesto.loadManifest(this.manifest).then(function(t){var n=manifesto.create(t);if(n.isCollection())e.items=n.items;else{var i=n.getSequences();if(i.length){var r=i[0];e.items=r.getCanvases()}}if(e.ignore){var o=e.ignore.split(",").map(function(e){return e.trim()});e.items=e.items.filter(function(e){return-1===o.indexOf(e.id)})}}).catch(function(e){console.error(e),console.error("failed to load manifest")}):this.items=null},e.prototype.reset=function(){this._reset()},e.prototype.render=function(){var e=this;return this.items?n("section",{class:"cf w-100 pa2"},this.items.map(function(t){return n("iiif-gallery-item",{item:t,selected:e._selectedItem===t})})):n("span",null)},e.prototype.itemSelected=function(e){var t=e.detail;this._selectedItem=t,t.isCollection()?this.onSelectCollection.emit(t):t.isManifest()?this.onSelectManifest.emit(t):this.onSelectCanvas.emit(t)},Object.defineProperty(e,"is",{get:function(){return"iiif-gallery"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{ignore:{type:String,attr:"ignore",watchCallbacks:["ignoreHandler"]},items:{state:!0},manifest:{type:String,attr:"manifest",watchCallbacks:["manifestHandler"]},reset:{method:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"onSelectManifest",method:"onSelectManifest",bubbles:!0,cancelable:!0,composed:!0},{name:"onSelectCollection",method:"onSelectCollection",bubbles:!0,cancelable:!0,composed:!0},{name:"onSelectCanvas",method:"onSelectCanvas",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"onSelectItem",method:"itemSelected"}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}(),r=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],i=0;i<arguments.length;i++){var r=arguments[i];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var l=n.apply(null,r);l&&e.push(l)}else if("object"===o)for(var s in r)t.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(t={exports:{}}),t.exports),o=function(){function e(){this.selected=!1}return e.prototype.renderLabel=function(){var e=this.item.getDefaultLabel();if(e)return n("div",{class:"ph2 ph0-ns pb3 link"},n("h3",{class:"f5 f4-ns mb0 black-90"},e))},e.prototype.render=function(){var e=this,t=this.item.getThumbnail(),i=r({collection:this.item.isCollection(),manifest:this.item.isManifest(),canvas:this.item.isCanvas(),selected:this.selected,"aspect-ratio":!0,"aspect-ratio--1x1":!0});return n("div",{onClick:function(){return e._itemSelectedHandler()},class:"fl w-100 w-50-m  w-25-ns pa2"},n("div",{class:i},n("img",{src:t.id,class:"db bg-center cover aspect-ratio--object"})),this.renderLabel())},e.prototype._itemSelectedHandler=function(){this.onSelectItem.emit(this.item)},Object.defineProperty(e,"is",{get:function(){return"iiif-gallery-item"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{item:{type:"Any",attr:"item"},selected:{type:Boolean,attr:"selected"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"onSelectItem",method:"onSelectItem",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}();e.IiifGallery=i,e.IiifGalleryItem=o,Object.defineProperty(e,"__esModule",{value:!0})});